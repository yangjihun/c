#include <stdio.h>
#include <string.h>
#define NUM 5
#define MAX 20

struct DATASET {
	char name[MAX];
	int age;
	char hobby[MAX];
};

struct INDEX {
	char name[MAX-1];
};

int search(struct DATASET* dataset[], struct INDEX* index[], char name[]);

int main() {
	struct DATASET dataset[NUM];
	struct INDEX index[NUM];
	char name[MAX];
	int i;
	for (i = 0; i < NUM; i = i + 1) {
		printf("name: ");
		scanf_s("%s", dataset[i].name, MAX);
		printf("age: ");
		scanf_s("%d", &dataset[i].age);
		printf("hobby: ");
		scanf_s("%s", dataset[i].hobby, MAX);
	}
	/* execute Copy function */
	copy(dataset, index);
	printf("%s", index[0].name);
	/* input name */
	//printf("enter name: ");
	//gets(name);
	//search(&dataset[i], &index[i], name);
}

int copy(struct DATASET dataset[], struct INDEX index[]) {
	int i;
	/* store into index */
	for (i = 0; i < NUM; i = i + 1) {
		strcpy_s(index[i].name, "yang", 20);
		//strcpy_s(index[i].name, dataset[i].name, sizeof(dataset[i].name)-1);
	}
}

int search(struct DATASET* dataset[], struct INDEX* index[], char name[]) {
	int i = 0, cursor = 0, turn = 0;
	for (turn = 0; turn < NUM; turn = turn + 1) {
		while (name[i] != '\0') {
			if (name[cursor] == index[turn]->name[i]) {
				turn += 1;
			}
			if (i == strlen(index[turn]->name)) {
				printf("%s\t%d\t%s\n", dataset[turn]->name, dataset[turn]->age, dataset[turn]->hobby);
				turn = 0;
			}
			i += 1;
		}
	}
}
